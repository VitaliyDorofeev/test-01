/*! For license information please see 698.d765354f493e3ae6.js.LICENSE.txt */
(self.webpackChunkpooling_pallet_return=self.webpackChunkpooling_pallet_return||[]).push([[698],{698:(e,t,r)=>{r.r(t);var s=r(418),l=r(470),a=r(749),n=r(540);const o=({id:e,value:t,onChange:r,options:s,placeholder:l,className:a,disabled:o})=>(0,n.jsxs)("select",{id:e,className:`custom-select ${a}`,value:t,onChange:r,disabled:o,children:[(0,n.jsx)("option",{value:"",children:l}),!(null==s||!s.length)&&s.map(((e,t)=>(0,n.jsx)("option",{value:e,children:e},t)))]}),c=function({onChange:e}){const{loading:t,formData:r}=function(){const[e,t]=(0,s.useState)(!0),[r,l]=(0,s.useState)({});return(0,s.useEffect)((()=>{(async()=>{try{const e=((e,t)=>{const r={};return e.forEach((e=>{const[s,l,a,...n]=e;s&&l&&a&&(r[s]||(r[s]={}),r[s][l]||(r[s][l]={}),r[s][l][a]={},t.forEach(((e,t)=>{r[s][l][a][e]=n[t]})))})),r})(await fetch("https://sheets.googleapis.com/v4/spreadsheets/1HUCYLt6G0gy7BKOXUpZQ-eM1KHTogk25KvD7MQEovvg/values/Sheet1!A3:F?key=AIzaSyAngsqkvSAnquqd4uHLIxBlHUD_kE5z6yU").then((e=>(e.ok||console.log("Network response was not ok"),e.json()))).then((e=>{if(e&&e.values&&e.values.length>0)return e.values;console.log("Empty data or invalid format returned from Google Sheets")})).catch((e=>{console.log("Error fetching data from Google Sheets:",e)})),["pln","rcs","tariff"]);l(e)}catch(e){console.log(e)}finally{t(!1)}})()}),[]),{loading:e,formData:r}}(),[l,c]=(0,s.useState)(""),[_,i]=(0,s.useState)(""),[p,u]=(0,s.useState)(""),[d,m]=(0,s.useState)(""),[h,f]=(0,s.useState)(""),{regions:j,tradingNetworks:x,returnPoints:g,returnPoint:N}=(0,s.useMemo)((()=>{var e;return{regions:Object.keys(r),tradingNetworks:l?Object.keys(r[l]):[],returnPoints:_?Object.keys(r[l][_]):[],returnPoint:null==(e=r[l])||null==(e=e[_])?void 0:e[p]}}),[r,l,_,p]),v=(t,r)=>{switch(t){case"region":c(r),e(t,r),i(""),u("");break;case"tradingNetwork":i(r),e(t,r),u("");break;case"returnPoint":u(r)}};return(0,s.useEffect)((()=>{f(""),m("")}),[j,x,g]),(0,s.useEffect)((()=>{N&&e("returnPoint",N)}),[N]),(0,n.jsx)("div",{children:t?(0,n.jsx)("div",{className:"loader-container",children:(0,n.jsx)(a.ClipLoader,{color:"#123abc",size:150})}):(0,n.jsxs)("div",{className:"pallet-return-form__wrapper",children:[(0,n.jsxs)("div",{className:"pallet-return-form__group__wrapper",children:[(0,n.jsxs)("div",{className:"pallet-return-form__group",children:[(0,n.jsxs)("div",{className:"pallet-return-form__select-wrapp",children:[(0,n.jsx)("span",{className:"pallet-return-form__select-wrapp__title",children:"Регион"}),(0,n.jsx)(o,{id:"region",value:l,onChange:e=>v("region",e.target.value),options:j,placeholder:"Выберите регион"})]}),(0,n.jsxs)("div",{className:"pallet-return-form__select-wrapp",children:[(0,n.jsx)("span",{className:"pallet-return-form__select-wrapp__title",children:"Торговая сеть"}),(0,n.jsx)(o,{id:"trading-network",value:_,onChange:e=>v("tradingNetwork",e.target.value),options:x,placeholder:"Выберите торговую сеть",disabled:!l})]}),(0,n.jsxs)("div",{className:"pallet-return-form__select-wrapp",children:[(0,n.jsx)("span",{className:"pallet-return-form__select-wrapp__title",children:"Точка возврата"}),(0,n.jsx)(o,{id:"return-point",value:p,onChange:e=>v("returnPoint",e.target.value),options:g,placeholder:"Выберите точку возврата",disabled:!_})]})]}),(0,n.jsx)("div",{className:"pallet-return-form__sum",children:(0,n.jsxs)("div",{className:"pallet-return-form__group__input-wrapper",children:[(0,n.jsx)("span",{className:"pallet-return-form__group__input-desc",children:"Введите кол-во паллет/месяц:"}),(0,n.jsx)("input",{className:"pallet-return-form__group__input",type:"number",value:d,onChange:e=>{m(e.target.value)}}),(0,n.jsx)("button",{className:"pallet-return-form__group__btn btn",onClick:e=>{e.preventDefault();const t=parseFloat(N.tariff),r=parseFloat(d);if(isNaN(t)||isNaN(r))console.error("Ошибка: одно из значений не является числом"),f("");else{const e=t*r;f(new Intl.NumberFormat("ru-RU").format(e))}},children:"Обновить данные"})]})}),(0,n.jsxs)("div",{className:"pallet-return-form__group__desc",children:[(0,n.jsxs)("div",{className:"pallet-return-form__group__desc-ppt",children:[(0,n.jsxs)("p",{className:"pallet-return-form__group__desc-ppt__title",children:["PLN:",(0,n.jsx)("span",{className:"pallet-return-form__group__desc-ppt__title__subtitle",children:null==N?void 0:N.pln})]}),(0,n.jsxs)("p",{className:"pallet-return-form__group__desc-ppt__title",children:["РЦ:",(0,n.jsx)("span",{className:"pallet-return-form__group__desc-ppt__title__subtitle",children:null==N?void 0:N.rcs})]}),(0,n.jsxs)("p",{className:"pallet-return-form__group__desc-ppt__title",children:["Тариф:",(0,n.jsxs)("span",{className:"pallet-return-form__group__desc-ppt__title__subtitle",children:[(0,n.jsx)("span",{className:"pallet-return-form__group__desc-ppt__title__subtitle__num",children:null==N?void 0:N.tariff}),"руб./паллета"]})]})]}),(0,n.jsxs)("div",{className:"pallet-return-form__group__desc-result",children:[(0,n.jsx)("p",{className:"pallet-return-form__group__desc-result__sum",children:"Стоимость возврата паллет:"}),(0,n.jsxs)("p",{className:"pallet-return-form__group__desc-result__res",children:[h," ",(0,n.jsx)("span",{className:"pallet-return-form__group__desc-result__res__subtitle",children:"₽"})]}),(0,n.jsxs)("p",{className:"pallet-return-form__group__desc-result__desc",children:["Рассчет стоимости возврата паллет ",(0,n.jsx)("br",{})," не является публичной оффертой."]})]})]})]}),(0,n.jsx)("div",{className:"under-line"}),(0,n.jsxs)("div",{className:"contact",children:[(0,n.jsx)("h2",{className:"contact__title",children:"Контактная информация"}),(0,n.jsxs)("form",{className:"contact__form",children:[(0,n.jsxs)("div",{className:"contact__form__input-group",children:[(0,n.jsx)("input",{type:"text",className:"contact__form__input",placeholder:"Название компании или ИНН"}),(0,n.jsx)("input",{type:"text",className:"contact__form__input",placeholder:"Фамилия, имя, Отчество"}),(0,n.jsx)("input",{type:"number",className:"contact__form__input",placeholder:"Телефон"}),(0,n.jsx)("input",{type:"text",className:"contact__form__input",placeholder:"E-mail"})]}),(0,n.jsx)("button",{onClick:e=>{e.preventDefault(),console.log("click")},type:"submit",className:"contact__form__btn",children:"Отправить заявку"})]}),(0,n.jsx)("div",{className:"contact__desc",children:(0,n.jsxs)("span",{className:"contact__desc__subtitle",children:["Заполняя форму, я принимаю ",(0,n.jsx)("a",{href:"#!",className:"contact__desc__link",children:"условия"})," и даю ",(0,n.jsx)("a",{href:"#!",className:"contact__desc__link",children:"согласие на обработку персональных данных."})]})})]})]})})},_={region:"",tradingNetwork:"",returnPoint:null},i=function(){const[e,t]=(0,s.useState)(_);return(0,n.jsxs)("main",{className:"main",children:[(0,n.jsxs)("div",{className:"main__title",children:[(0,n.jsx)("h1",{className:"title",children:"Возврат паллет"}),(0,n.jsx)("h2",{className:"subtitle",children:"Калькулятор поможет рассчитать стоимость возврата паллет с учетом параметров точек отправки и возврата."})]}),(0,n.jsx)("form",{className:"pallet-return-form",children:(0,n.jsx)(c,{onChange:(e,r)=>{t((t=>Object.assign({},t,{[e]:r})))}})})]})},p=function(){return(0,n.jsx)("div",{children:(0,n.jsx)(i,{})})};l.H(document.getElementById("root")).render((0,n.jsx)(s.StrictMode,{children:(0,n.jsx)(p,{})}))},470:(e,t,r)=>{var s=r(140);t.H=s.createRoot,s.hydrateRoot},192:(e,t,r)=>{var s=r(418),l=Symbol.for("react.element"),a=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),n=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var s,c={},_=null,i=null;for(s in void 0!==r&&(_=""+r),void 0!==t.key&&(_=""+t.key),void 0!==t.ref&&(i=t.ref),t)a.call(t,s)&&!o.hasOwnProperty(s)&&(c[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===c[s]&&(c[s]=t[s]);return{$$typeof:l,type:e,key:_,ref:i,props:c,_owner:n.current}}t.jsx=c,t.jsxs=c},540:(e,t,r)=>{e.exports=r(192)}}]);