/*! For license information please see 200.cc806aeeb709cee3.js.LICENSE.txt */
(self.webpackChunkpooling_pallet_return=self.webpackChunkpooling_pallet_return||[]).push([[200],{200:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});var r=s(418),l=s(749),a=s(540);const n=({id:e,value:t,onChange:s,options:r,placeholder:l,className:n,disabled:o})=>(0,a.jsxs)("select",{id:e,className:`custom-select ${n}`,value:t,onChange:s,disabled:o,children:[(0,a.jsx)("option",{value:"",children:l}),!(null==r||!r.length)&&r.map(((e,t)=>(0,a.jsx)("option",{value:e,children:e},t)))]}),o=function({onChange:e}){const{loading:t,formData:s}=function(){const[e,t]=(0,r.useState)(!0),[s,l]=(0,r.useState)({});return(0,r.useEffect)((()=>{(async()=>{try{const e=((e,t)=>{const s={};return e.forEach((e=>{const[r,l,a,...n]=e;r&&l&&a&&(s[r]||(s[r]={}),s[r][l]||(s[r][l]={}),s[r][l][a]={},t.forEach(((e,t)=>{s[r][l][a][e]=n[t]})))})),s})(await fetch("https://sheets.googleapis.com/v4/spreadsheets/1HUCYLt6G0gy7BKOXUpZQ-eM1KHTogk25KvD7MQEovvg/values/Sheet1!A3:F?key=AIzaSyAngsqkvSAnquqd4uHLIxBlHUD_kE5z6yU").then((e=>(e.ok||console.log("Network response was not ok"),e.json()))).then((e=>{if(e&&e.values&&e.values.length>0)return e.values;console.log("Empty data or invalid format returned from Google Sheets")})).catch((e=>{console.log("Error fetching data from Google Sheets:",e)})),["pln","rcs","tariff"]);l(e)}catch(e){console.log(e)}finally{t(!1)}})()}),[]),{loading:e,formData:s}}(),[o,c]=(0,r.useState)(""),[_,i]=(0,r.useState)(""),[p,u]=(0,r.useState)(""),[d,m]=(0,r.useState)(""),[h,f]=(0,r.useState)(""),{regions:j,tradingNetworks:g,returnPoints:x,returnPoint:N}=(0,r.useMemo)((()=>{var e;return{regions:Object.keys(s),tradingNetworks:o?Object.keys(s[o]):[],returnPoints:_?Object.keys(s[o][_]):[],returnPoint:null==(e=s[o])||null==(e=e[_])?void 0:e[p]}}),[s,o,_,p]),v=(t,s)=>{switch(t){case"region":c(s),e(t,s),i(""),u("");break;case"tradingNetwork":i(s),e(t,s),u("");break;case"returnPoint":u(s)}};return(0,r.useEffect)((()=>{f(""),m("")}),[j,g,x]),(0,r.useEffect)((()=>{N&&e("returnPoint",N)}),[N]),(0,a.jsx)("div",{children:t?(0,a.jsx)("div",{className:"loader-container",children:(0,a.jsx)(l.ClipLoader,{color:"#123abc",size:150})}):(0,a.jsxs)("div",{className:"pallet-return-form__wrapper",children:[(0,a.jsxs)("div",{className:"pallet-return-form__group__wrapper",children:[(0,a.jsxs)("div",{className:"pallet-return-form__group",children:[(0,a.jsxs)("div",{className:"pallet-return-form__select-wrapp",children:[(0,a.jsx)("span",{className:"pallet-return-form__select-wrapp__title",children:"Регион"}),(0,a.jsx)(n,{id:"region",value:o,onChange:e=>v("region",e.target.value),options:j,placeholder:"Выберите регион"})]}),(0,a.jsxs)("div",{className:"pallet-return-form__select-wrapp",children:[(0,a.jsx)("span",{className:"pallet-return-form__select-wrapp__title",children:"Торговая сеть"}),(0,a.jsx)(n,{id:"trading-network",value:_,onChange:e=>v("tradingNetwork",e.target.value),options:g,placeholder:"Выберите торговую сеть",disabled:!o})]}),(0,a.jsxs)("div",{className:"pallet-return-form__select-wrapp",children:[(0,a.jsx)("span",{className:"pallet-return-form__select-wrapp__title",children:"Точка возврата"}),(0,a.jsx)(n,{id:"return-point",value:p,onChange:e=>v("returnPoint",e.target.value),options:x,placeholder:"Выберите точку возврата",disabled:!_})]})]}),(0,a.jsx)("div",{className:"pallet-return-form__sum",children:(0,a.jsxs)("div",{className:"pallet-return-form__group__input-wrapper",children:[(0,a.jsx)("span",{className:"pallet-return-form__group__input-desc",children:"Введите кол-во паллет/месяц:"}),(0,a.jsx)("input",{className:"pallet-return-form__group__input",type:"number",value:d,onChange:e=>{m(e.target.value)}}),(0,a.jsx)("button",{className:"pallet-return-form__group__btn btn",onClick:e=>{e.preventDefault();const t=parseFloat(N.tariff),s=parseFloat(d);if(isNaN(t)||isNaN(s))console.error("Ошибка: одно из значений не является числом"),f("");else{const e=t*s;f(new Intl.NumberFormat("ru-RU").format(e))}},children:"Обновить данные"})]})}),(0,a.jsxs)("div",{className:"pallet-return-form__group__desc",children:[(0,a.jsxs)("div",{className:"pallet-return-form__group__desc-ppt",children:[(0,a.jsxs)("p",{className:"pallet-return-form__group__desc-ppt__title",children:["PLN:",(0,a.jsx)("span",{className:"pallet-return-form__group__desc-ppt__title__subtitle",children:null==N?void 0:N.pln})]}),(0,a.jsxs)("p",{className:"pallet-return-form__group__desc-ppt__title",children:["РЦ:",(0,a.jsx)("span",{className:"pallet-return-form__group__desc-ppt__title__subtitle",children:null==N?void 0:N.rcs})]}),(0,a.jsxs)("p",{className:"pallet-return-form__group__desc-ppt__title",children:["Тариф:",(0,a.jsxs)("span",{className:"pallet-return-form__group__desc-ppt__title__subtitle",children:[(0,a.jsx)("span",{className:"pallet-return-form__group__desc-ppt__title__subtitle__num",children:null==N?void 0:N.tariff}),"руб./паллета"]})]})]}),(0,a.jsxs)("div",{className:"pallet-return-form__group__desc-result",children:[(0,a.jsx)("p",{className:"pallet-return-form__group__desc-result__sum",children:"Стоимость возврата паллет:"}),(0,a.jsxs)("p",{className:"pallet-return-form__group__desc-result__res",children:[h," ",(0,a.jsx)("span",{className:"pallet-return-form__group__desc-result__res__subtitle",children:"₽"})]}),(0,a.jsxs)("p",{className:"pallet-return-form__group__desc-result__desc",children:["Рассчет стоимости возврата паллет ",(0,a.jsx)("br",{})," не является публичной оффертой."]})]})]})]}),(0,a.jsx)("div",{className:"under-line"}),(0,a.jsxs)("div",{className:"contact",children:[(0,a.jsx)("h2",{className:"contact__title",children:"Контактная информация"}),(0,a.jsxs)("form",{className:"contact__form",children:[(0,a.jsxs)("div",{className:"contact__form__input-group",children:[(0,a.jsx)("input",{type:"text",className:"contact__form__input",placeholder:"Название компании или ИНН"}),(0,a.jsx)("input",{type:"text",className:"contact__form__input",placeholder:"Фамилия, имя, Отчество"}),(0,a.jsx)("input",{type:"number",className:"contact__form__input",placeholder:"Телефон"}),(0,a.jsx)("input",{type:"text",className:"contact__form__input",placeholder:"E-mail"})]}),(0,a.jsx)("button",{onClick:e=>{e.preventDefault(),console.log("click")},type:"submit",className:"contact__form__btn",children:"Отправить заявку"})]}),(0,a.jsx)("div",{className:"contact__desc",children:(0,a.jsxs)("span",{className:"contact__desc__subtitle",children:["Заполняя форму, я принимаю ",(0,a.jsx)("a",{href:"#!",className:"contact__desc__link",children:"условия"})," и даю ",(0,a.jsx)("a",{href:"#!",className:"contact__desc__link",children:"согласие на обработку персональных данных."})]})})]})]})})},c={region:"",tradingNetwork:"",returnPoint:null},_=function(){const[e,t]=(0,r.useState)(c);return(0,a.jsxs)("main",{className:"main",children:[(0,a.jsxs)("div",{className:"main__title",children:[(0,a.jsx)("h1",{className:"title",children:"Возврат паллет"}),(0,a.jsx)("h2",{className:"subtitle",children:"Калькулятор поможет рассчитать стоимость возврата паллет с учетом параметров точек отправки и возврата."})]}),(0,a.jsx)("form",{className:"pallet-return-form",children:(0,a.jsx)(o,{onChange:(e,s)=>{t((t=>Object.assign({},t,{[e]:s})))}})})]})},i=function(){return(0,a.jsx)("div",{children:(0,a.jsx)(_,{})})}},192:(e,t,s)=>{var r=s(418),l=Symbol.for("react.element"),a=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),n=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,s){var r,c={},_=null,i=null;for(r in void 0!==s&&(_=""+s),void 0!==t.key&&(_=""+t.key),void 0!==t.ref&&(i=t.ref),t)a.call(t,r)&&!o.hasOwnProperty(r)&&(c[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===c[r]&&(c[r]=t[r]);return{$$typeof:l,type:e,key:_,ref:i,props:c,_owner:n.current}}t.jsx=c,t.jsxs=c},540:(e,t,s)=>{e.exports=s(192)}}]);